{% extends 'base.html' %}
{% load static %}

{% block title %}Contact Us - Awaafi{% endblock %}

{% block css %}
<link href="{% static 'css/contactUsStyle.css' %}" rel="stylesheet">
<link href="https://cdn.lineicons.com/3.0/lineicons.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
{% endblock %}

{% block hero_content %}
<div class="container-fluid hero-section">
  <section class="contact-section py-5" style="color: white;">
    <div class="container-fluid order-section">
      <div class="row text-center mb-5 ">
        <div class="col-md-6 border-end border-warning">
          <div class="px-3">
            <div class="mb-3">
              <i class="bi bi-cart-check-fill fs-1 text-warning"></i>
            </div>
            <h5 class="text-warning fw-bold">Order Enquiries</h5>
            <p class="small limited-width-text">
              If you are not happy with your order and need to get in touch with the shop regarding your order,
              please use the following number : <strong>01315639455</strong><br>
              Delivery time is stated on the website is approximate, thank you for your patience.
            </p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="px-3">
            <div class="mb-3">
              <i class="bi bi-credit-card-fill fs-1 text-warning"></i>
            </div>
            <h5 class="text-warning fw-bold">Payment Issues/Enquiries</h5>
            <p class="small limited-width-text">
              If you cannot be refunded for your order or faced any issues through the payment process,
              please call the shop and they can process the refund for you. If you have been unable to reach the shop,
              you can get in touch with Menuless either by emailing <strong>support@menuless.co.uk</strong><br> or phoning <strong>0330 133 3455</strong>.
            </p>
          </div>
        </div>
        <p>milkshake & lassies</p>
      </div>

      <div class="connect-us">
        <div class="container">
          <div class="row align-items-center justify-content-between g-5">
            <div class="col-md-5">
              <div class="text-start ps-3 text-white">
                <div class="connect-content w-fit">
                  <h1 class="fw-bold" style="font-size: 3rem;">CONNECT</h1>
                  <img src="{% static 'img/US.png' %}" class="connect-us-img img-fluid" alt="">
                  <p class="small contact-description-text mt-3">
                    If you would like a tasty product which you can not find on the website, mention it in the enquiry box to brand with us.
                    We will consider your request.
                  </p>
                  <div class="mt-3 d-flex gap-4">
                    <a href="#" class="social-icon"><i class="bi bi-instagram"></i></a>
                    <a href="#" class="social-icon"><i class="bi bi-facebook"></i></a>
                    <a href="#" class="social-icon"><i class="bi bi-whatsapp"></i></a>
                    <a href="#" class="social-icon"><i class="bi bi-twitter"></i></a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <form method="post" class="bg-white p-4 rounded shadow text-dark custom-form d-flex row items-center" onsubmit="return validateCaptcha();">
                {% csrf_token %}
                <div class="mb-3">
                  <input type="text" name="name" class="form-control custom-input" placeholder="Name" required>
                </div>
                <div class="mb-3">
                  <input type="text" name="phone" class="form-control custom-input" placeholder="Phone Number" required>
                </div>
                <div class="mb-3">
                  <input type="email" name="email" class="form-control custom-input" placeholder="Email" required>
                </div>
                <div class="mb-3">
                  <textarea name="message" class="form-control" rows="4" placeholder="Your Enquiry" required></textarea>
                </div>
                <div class="mb-3">
                  <label class="form-label fw-bold">Captcha</label>
                  <div class="d-flex align-items-center gap-3">
                    <div id="captcha-box" class="px-3 py-2 bg-light border rounded fw-bold" style="user-select: none;"></div>
                    <button type="button" class="btn btn-sm btn-outline-secondary" onclick="generateCaptcha()">‚ü≥</button>
                    <input type="text" id="captcha-input" name="captcha_input" class="form-control" placeholder="Enter captcha" style="max-width: 200px;" required>
                    <input type="hidden" id="captcha" name="captcha">
                  </div>
                  <div id="captcha-error" class="text-danger small mt-2" style="display: none;">Captcha is incorrect.</div>
                </div>
                <button type="submit" class="btn btn-warning w-100 text-white fw-bold">SUBMIT</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <div class="address-section d-flex mt-5">
        <div class="address-header">
          <h2 class="mb-0">
            <span class="text-warning fw-bold">Postal</span><br />
            <span class="fw-bold">Address</span>
            <span class="text-warning">&#9654;</span>
          </h2>
        </div>
        <div class="yellow-section">
          <div class="address-text text-dark me-md-5">
            <p class="mb-1 address-text-p">
              <i class="bi bi-geo-alt-fill text-white me-2"></i>
              110a Gorgie Road
            </p>
            <p class="mb-1 ps-4 address-text-p">Gorgie Edinburgh</p>
            <p class="mb-3 ps-4 address-text-p">EH11 2NP</p>
            <hr class="border-white opacity-100 my-3" style="max-width: 200px;" />
            <p class="mb-0 address-text-p">
              <i class="bi bi-telephone-fill text-white me-2"></i>
              01315639455
            </p>
          </div>
          <div class="map-container">
            <img src="{% static 'img/address-img.png' %}" alt="Map" class="img-fluid rounded" />
          </div>
        </div>
      </div>

      <div class="price-checker d-flex flex-column align-items-center justify-content-center text-white mt-5">
        <div class="overlay"></div>
        <div class="content position-relative text-center w-100">
          <div class="text-start">
            <p class="text-white mb-4">Delivery price checker</p>
            <form class="d-flex justify-content-center w-100 px-3 px-md-5">
              <input type="text" class="form-control transparent-input me-2" placeholder="Enter item name" />
              <button type="submit" class="btn btn-warning px-4">Check Price</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>
<script>
  let currentCaptcha = "";
  function generateCaptcha() {
    const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
    let captcha = "";
    for (let i = 0; i < 6; i++) {
      captcha += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    currentCaptcha = captcha;
    document.getElementById("captcha-box").textContent = captcha;
    document.getElementById("captcha").value = captcha;
  }
  function validateCaptcha() {
    const userInput = document.getElementById("captcha-input").value.trim();
    if (userInput !== currentCaptcha) {
      document.getElementById("captcha-error").style.display = "block";
      return false;
    }
    document.getElementById("captcha-error").style.display = "none";
    return true;
  }
  window.onload = generateCaptcha;
  AOS.init({ duration: 1000, offset: 100, once: true });
</script>
{% endblock %}
